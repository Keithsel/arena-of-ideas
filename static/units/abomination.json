{
    "name": "Abomination",
    "description": "On Buy:\nDevour\nadjacent allies",
    "health": 2,
    "attack": 2,
    "house": "Demons",
    "trigger": {
        "type": "OnBuy",
        "effect": {
            "type": "List",
            "effects": [
                {
                    "type": "If",
                    "condition": {
                        "type": "SlotOccupied",
                        "faction": "Team",
                        "slot": {
                            "type": "Sum",
                            "a": {
                                "type": "Var",
                                "var": "Slot"
                            },
                            "b": {
                                "type": "Const",
                                "value": 1
                            }
                        }
                    },
                    "then": {
                        "type": "UseAbility",
                        "target": {
                            "type": "FindUnit",
                            "slot": {
                                "type": "Sum",
                                "a": {
                                    "type": "Var",
                                    "var": "Slot"
                                },
                                "b": {
                                    "type": "Const",
                                    "value": 1
                                }
                            },
                            "faction": {
                                "type": "Owner"
                            }
                        },
                        "ability": "Devour"
                    },
                    "else": {
                        "type": "Noop"
                    }
                },
                {
                    "type": "If",
                    "condition": {
                        "type": "SlotOccupied",
                        "faction": "Team",
                        "slot": {
                            "type": "Sum",
                            "a": {
                                "type": "Var",
                                "var": "Slot"
                            },
                            "b": {
                                "type": "Const",
                                "value": -1
                            }
                        }
                    },
                    "then": {
                        "type": "UseAbility",
                        "target": {
                            "type": "FindUnit",
                            "slot": {
                                "type": "Sum",
                                "a": {
                                    "type": "Var",
                                    "var": "Slot"
                                },
                                "b": {
                                    "type": "Const",
                                    "value": -1
                                }
                            },
                            "faction": {
                                "type": "Owner"
                            }
                        },
                        "ability": "Devour"
                    },
                    "else": {
                        "type": "Noop"
                    }
                }
            ]
        }
    },
    "shader": {
        "path": "shaders/vfx/circle.glsl",
        "parameters": {
            "uniforms": {
                "u_color": "#860000",
                "u_circle_radius": 0.6,
                "u_border": 0.5,
                "u_circle_fbm": 0.15,
                "u_circle_fbm_speed": 40.0,
                "u_padding": 0.2,
                "u_aa": 0.05
            }
        }
    }
}